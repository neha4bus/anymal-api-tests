/**
 * Messages that define auxiliary navigation goals
 */
syntax = "proto3";

package anymal_api_proto;

import "anymal_api_proto/spatial.proto";

/**
 * Fully defined navigation goal.
 * Used to inform the client about details of predefined navigation goals, or for the client to create ad-hoc navigation goals.
 */
message NavigationGoal {
  string uid = 1;  // (optional) Unique identifier of the navigation goal. Automatically generated by the backend, the client does not need
                   // to set it when creating a navigation goal.
  string label = 2;  // Operator-defined, human readable label of the navigation goal. Must be unique within a single environment to avoid
                     // confusion (e.g. when showing this label in a dropdown or 3D).
  Pose pose = 3;
  Tolerance tolerance = 4;  // (optional) Rotation and translation optional tolerances, defaults to 0.1m and 0.1rad when not provided
}

/**
 * Navigation goal that is the current robot pose.
 * Used in combination with a task, in order to execute it from the current robot pose.
 */
message CurrentRobotPose {
  // Empty.
}

/**
 * Container storing a navigation goal of any type.
 * Warning: Providing an ad-hoc navigation goal allows to send the robot to arbitrary locations.
 * - The robot might not be able to reach that location safely!
 * - The robot might not be able to reach the docking station from this location, impairing it to properly react to low battery and low
 *   main body pressure!
 * Usage at your own risk.
 */
message AnyNavigationGoal {
  oneof navigation_goal {
    string uid = 1;
    NavigationGoal detailed = 2;
    CurrentRobotPose current_robot_pose = 3;  // Used in combination with an Action, to execute it from the current robot pose.
  }
}
